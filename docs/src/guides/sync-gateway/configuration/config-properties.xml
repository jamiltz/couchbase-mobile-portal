<?xml version="1.0" encoding="UTF-8"?>
<article xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="../../../docs.xsd"
         id="config-properties">
   <title>Configuration using a configuration file</title>
   <description>An overview of Sync Gateway's configuration properties (for inclusion in a
      configuration file)</description>
   <related>
      <item><ref href="../configuration/command-line-options.xml">Command-line options</ref></item>
   </related>
   <introduction>
      <paragraph>This article describes how to use a configuration file to configure Sync Gateway. Configuration
         determines the runtime behavior of Sync Gateway, for example, its server configuration and the database
         or set of databases with which a Sync Gateway instance can interact. All configuration properties have
         default values.</paragraph>
      <paragraph>Using a configuration file is the recommended approach for configuring Sync Gateway, because
         using a configuration file:</paragraph>
      <unordered-list>
         <list-item>Lets you provide values for all configuration properties. You can only provide a subset of configuration properties
            on the command line.</list-item>
         <list-item>Creates a more permanent record of configuration properties, and saves you from having to enter them on the
            command line.</list-item>
         <list-item>Allows you to define configurations for multiple Couchbase Server databases.</list-item>
      </unordered-list>
      <paragraph>When specifying a configuration file, the format of the <code>sync_gateway</code> command is:</paragraph>
      <code-block>
         sync_gateway [configuration file]
        </code-block>
      <paragraph>The following command starts Sync Gateway with the properties specified in the configuration file <code>config.json</code>:</paragraph>
      <code-block>
         $ sync_gateway config.json
      </code-block>
    </introduction>
    <topics>
       <topic id="configuration-files">
          <title>Configuration files</title>
          <body>
             <paragraph>A Sync Gateway configuration file is a JSON file that defines configuration properties. When starting Sync Gateway,
                provide the path to the file as a command-line argument. Configuration properties are case-insensitive. Here we use lower
                camel case in most but not all cases.
             </paragraph>
             <paragraph>Configuration files have one syntactic feature that is not standard JSON: any text between backticks (`) is
                treated as a string, even if it spans multiple lines or contains double-quotes. This makes it easy to embed
                JavaScript code, such as the sync and filter functions.</paragraph>
             <section id="config-file-example">
                <title>Example</title>
                <body>
             <paragraph>The following sample configuration file starts a server with the default settings:</paragraph>
             <code-block>
                {
                  "interface":":4984",        // Begin server configuration
                  "adminInterface":":4985",
                  "log":["REST"],
                  "databases":{               // Begin database configuration
                    "sync_gateway":{
                    "server":"http://localhost:8091",
                    "bucket":"sync_gateway",
                    "sync":`function(doc) {channel(doc.channels);}`
                    }
                  }
                }
             </code-block>
             <paragraph>You can see an example of a more complex configuration file in the
                <external-ref href="https://github.com/couchbaselabs/CouchChat-iOS/blob/master/sync-gateway-config.json">CouchChat-iOS sample app</external-ref>.
                Additional examples are in the <external-ref href="https://github.com/couchbase/sync_gateway/tree/master/examples">Sync Gateway Github examples repository</external-ref>.
             </paragraph>
                </body>
             </section>
          </body>
       </topic>
       <topic id="server-configuration">
          <title>Server configuration</title>
          <body>
             <paragraph>Configuration properties for server configuration are root-level configuration properties, for example:</paragraph>
             <code-block>
                {
                "interface":":4984",        // Begin server configuration
                "adminInterface":":4985",
                "log":["REST"]
                }
             </code-block>
             <paragraph>Following are configuration properties for configuration of the Sync Gateway server:</paragraph>
             <table>
                <header>
                   <row>
                      <entry>Property</entry>
                      <entry>Type and Default</entry>
                      <entry>Description</entry>
                   </row>
                </header>
                <body>
                   <row>
                      <entry>
                         <code>adminInterface</code>
                      </entry>
                      <entry><code>string</code><paragraph><code>127.0.0.1:4985</code></paragraph></entry>
                      <entry>TCP network address (IP address and the port) that the Admin REST API listens on.
                         You can omit the IP address.
                      </entry>
                   </row>
                   <row>
                   <entry>
                      <code>adminUI</code>
                   </entry>
                      <entry><code>string</code><paragraph>Default: The bundled Sync Gateway Admin Console at
                         <code>localhost:4985/_admin/</code></paragraph></entry>
                      <entry>URL of the Sync Gateway Admin Console HTML page.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>compressResponses</code>
                      </entry>
                      <entry><code>bool</code><paragraph>Default: <emphasis>true</emphasis></paragraph></entry>
                      <entry>Whether to compress HTTP responses. Set to <code>false</code> to disable compression of HTTP responses.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>configServer</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>URL of a Couchbase database-configuration server (for dynamic database discovery).
                         A database-configuration server allows Sync Gateway to load a database configuration dynamically from
                         a remote endpoint. If a database configuration server is defined, when Sync Gateway gets a request for
                         a database that it doesn't know about, then Sync Gateway will attempt to retrieve the database
                         configuration properties from the URL ConfigServer/DBname, where DBname is the database name.</entry>
                   </row>
                <row>
                   <entry>
                      <code>CORS</code>
                   </entry>
                   <entry>Array of CORS configuration properties<paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                   <entry>Configuration for allowing CORS (cross-origin resource sharing). For more information, see
                      <ref href="#cors-configuration">CORS configuration</ref>.</entry>
                </row>
                   <row>
                      <entry>
                         <code>Couchbase&#10;KeepaliveInterval</code><paragraph>(<emphasis>one word</emphasis>)</paragraph>
                      </entry>
                      <entry><code>integer</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>TCP keep-alive interval in seconds between Sync Gateway and Couchbase Server</entry>
                   </row>
                   <row>
                      <entry>
                         <code>databases</code>
                      </entry>
                      <entry>Array of database configuration properties<paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Database settings. See <ref href="#database-configuration">Database configuration</ref>.</entry>
                   </row>
                   <!-- Omitting deploymentID for the moment
                   <row>
                      <entry>
                         <code>deploymentID</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Optional customer/deployment ID for statistics reporting</entry>
                   </row>
                   -->
                   <row>
                      <entry>
                         <code>Facebook</code>
                      </entry>
                      <entry>Array of Facebook configuration properties<paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Configuration for Facebook Login authentication. See <ref href="#facebook-configuration">Facebook configuration</ref>.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>interface</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <emphasis><code>:4984</code></emphasis></paragraph></entry>
                      <entry>IP address and the TCP port that the Sync REST API listens on. You can omit the IP address.</entry>
                   </row>
                  <row>
                     <entry>
                        <code>log</code>
                     </entry>
                     <entry><code>string</code><paragraph>Default: <code>HTTP</code></paragraph></entry>
                     <entry>Comma-separated list of log keys to enable for logging. Use <code>["*"]</code> to enable logging for all log keys.
                        See <ref href="#log-keys">Log keys</ref>.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>logFilePath</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <code>stderr</code></paragraph></entry>
                      <entry>Absolute or relative path on the filesystem to the log file. A relative path is from the
                         directory that contains the Sync Gateway executable file.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>maxCouchbaseConnections</code>
                      </entry>
                      <entry><code>integer</code><paragraph>Default: <code>16</code></paragraph></entry>
                      <entry>Maximum number of sockets to open to a Couchbase Server node</entry>
                   </row>
                   <row>
                      <entry>
                         <code>maxCouchbaseOverflow</code>
                      </entry>
                      <entry><code>integer</code><paragraph>Default: <code>0</code> (zero), that is, no maximum</paragraph></entry>
                      <entry>Maximum number of overflow sockets to open</entry>
                   </row>
                   <row>
                      <entry>
                         <code>maxFileDescriptors</code>
                      </entry>
                      <entry><code>integer</code><paragraph>Default: <code>5000</code></paragraph></entry>
                      <entry>Maximum number of open file descriptors (RLIMIT_NOFILE). Not available on Windows.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>maxHeartbeat</code>
                      </entry>
                      <entry>
                         <code>integer</code><paragraph>Default: <emphasis>No maximum</emphasis></paragraph>
                      </entry>
                      <entry>Maximum heartbeat value for _changes feed requests (in seconds)</entry>
                   </row>
                   <row>
                      <entry>
                         <code>maxIncomingConnections</code>
                      </entry>
                      <entry><code>integer</code><paragraph>Default: <code>0</code> (zero), that is, no maximum</paragraph></entry>
                      <entry>Maximum number of incoming HTTP connections to accept</entry>
                   </row>
                   <row>
                      <entry>
                         <code>Persona</code>
                      </entry>
                      <entry>Persona configuration property<paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Configuration for Mozilla Persona authentication. See <ref href="#persona-configuration">Mozilla Persona configuration</ref>.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>pretty</code>
                      </entry>
                      <entry><code>bool</code><paragraph>Default: <code>false</code></paragraph></entry>
                      <entry>Whether to pretty-print JSON responses</entry>
                   </row>
                   <row>
                      <entry>
                         <code>profileInterface</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>TCP network address (IP address and the port) that the Go profile API listens on.
                         You can obtain go profiling information from the interface. You can omit the IP address.
                      </entry>
                   </row>
                   <row>
                      <entry>
                         <code>serverReadTimeout </code>
                      </entry>
                      <entry><code>integer</code><paragraph>Default: <emphasis>No timeout</emphasis></paragraph></entry>
                      <entry>Maximum duration in seconds before timing out the read of an HTTP(S) request</entry>
                   </row>
                   <row>
                      <entry>
                         <code>serverWriteTimeout</code>
                      </entry>
                      <entry><code>integer</code><paragraph>Default: <emphasis>No timeout</emphasis></paragraph></entry>
                      <entry>Maximum duration in seconds before timing out the write of an HTTP(S) response</entry>
                   </row>
                   <row>
                      <entry>
                         <code>slowServerCall&#10;WarningThreshold</code><paragraph>(<emphasis>one word</emphasis>)</paragraph>
                      </entry>
                      <entry><code>integer</code><paragraph>Default: <emphasis>200 milliseconds</emphasis></paragraph></entry>
                      <entry>Log warnings if database calls made by Sync Gateway take this many milliseconds or longer.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>SSLCert</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Absolute or relative path on the filesystem to the TLS certificate file, if TLS is used
                         to secure Sync Gateway connections, or "nil" for plaintext. A relative path is from the
                         directory that contains the Sync Gateway executable file. For more information, see
                         <ref href="../../sync-gateway/7-deployment-considerations.xml#transport-layer-security">Transport Layer Security (HTTPS)</ref>.
                      </entry>
                   </row>
                   <row>
                      <entry>
                         <code>SSLKey</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Absolute or relative path on the filesystem to the TLS private key file, if TLS is used
                         to secure Sync Gateway connections, or "nil" for plaintext.  A relative path is from the
                         directory that contains the Sync Gateway executable file.</entry>
                   </row>
                   <!-- Omitting for now
                   <row>
                      <entry>
                         <code>statsReportInterval</code>
                      </entry>
                      <entry><code>number</code><paragraph>Default: <emphasis>3600 seconds (one hour)</emphasis></paragraph></entry>
                      <entry>Optional statistics reporting interval in seconds. The number can be an integer, or a non-integer
                         positive real number, expressed with a decimal point (for example, <code>2400.5</code>). Given realistic reporting
                         intervals, integers are most likely. Set to <code>0</code> to disable.</entry>
                   </row>
                   -->
                </body>
             </table>
          </body>
       </topic>
       
       <topic id="log-keys">
          <title>Log keys</title>
          <body>
             <paragraph>Following are descriptions of the log keys that you can specify as a comma-separated list in the <code>Log</code> property.
                In some cases, a log key has two forms, one with a plus sign (<code>+</code>) suffix and one without, for example <code>CRUD+</code>
                and <code>CRUD</code>. The log key with the plus sign logs more verbosely. For example for <code>CRUD+</code>, the log contains
                all of the messages for <code>CRUD</code> and additional ones for <code>CRUD+</code>.</paragraph>
             <table>
                <header>
                   <row>
                      <entry>Log key</entry>
                      <entry>What is logged</entry>
                   </row>
                </header>
                <body>
                   <row>
                      <entry>
                         <code>access</code>
                      </entry>
                      <entry><code>access()</code> calls made by the sync function</entry>
                   </row>
                <row>
                   <entry>
                      <code>attach</code>
                   </entry>
                   <entry>Attachment processing</entry>
                </row>                
                <row>
                   <entry>
                      <code>auth</code>
                   </entry>
                   <entry>Authentication</entry>
                </row>               
                <row>
                   <entry>
                      <code>bucket</code>
                   </entry>
                   <entry>Sync Gateway interactions with the bucket (verbose logging).</entry>
                </row>                
                <row>
                   <entry>
                      <code>cache</code> or <code>cache+</code>
                   </entry>
                   <entry>Interactions with Sync Gateway's in-memory channel cache</entry>
                </row>                
                <row>
                   <entry>
                      <code>changes</code> or <code>changes+</code>
                   </entry>
                   <entry>Processing of <code>_changes</code> requests</entry>
                </row>               
                <row>
                   <entry>
                      <code>CRUD</code> or <code>CRUD+</code>
                   </entry>
                   <entry>Updates made by Sync Gateway to documents</entry>
                </row>
                <row>
                   <entry>
                      <code>DCP</code>
                   </entry>
                   <entry>DCP-feed processing (verbose logging)</entry>
                </row>
                <row>
                   <entry>
                      <code>events</code> or <code>events+</code>
                   </entry>
                   <entry>Event processing (webhooks)</entry>
                </row>
                <row>
                   <entry>
                      <code>feed</code> or <code>feed+</code>
                   </entry>
                   <entry>TAP-feed processing</entry>
                </row>
                <row>
                   <entry>
                      <code>HTTP</code> or <code>HTTP+</code>
                   </entry>
                   <entry>All requests made to the Sync Gateway REST APIs (Sync and Admin). Note that the
                      log keyword HTTP is always enabled, which means that HTTP requests and error responses
                      are always logged (in a non-verbose manner). HTTP+ provides more verbose HTTP logging.</entry>
                </row>
                </body>
             </table>
          </body>
          </topic>
       <topic id="database-configuration">
          <title>Database configuration</title>
          <body>
             <paragraph>Configuration properties for database configuration are second-level and third-level
                configuration properties, below the top-level key <code>databases</code>, for example:</paragraph>
             <code-block>
                {
                  "databases":{               // Begin database configuration
                    "sync_gateway":{          // Second-level property is name of the database
                    "server":"http://localhost:8091",     // Third-level properties specify the configuration
                                                          // of this database
                    "bucket":"sync_gateway",
                    "sync":`function(doc) {channel(doc.channels);}`
                    }
                  }
                }
             </code-block>
             <paragraph>Following is the second-level configuration property for databases:</paragraph>
             <table>
                <header>
                   <row>
                      <entry>Property</entry>
                      <entry>Type and Default</entry>
                      <entry>Description</entry>
                   </row>
                </header>
                <body>
                   <row>
                      <entry>
                         <code>name</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Database name of the database for use by the REST APIs (stored as a key in JSON)</entry>
                   </row>
                </body>
             </table>
             <paragraph>Following are third-level configuration properties for a specific database:</paragraph>
             <table>
                <header>
                   <row>
                      <entry>Property</entry>
                      <entry>Type and Default</entry>
                      <entry>Description</entry>
                   </row>
                </header>
                <body>
                   <row>
                      <entry>
                         <code>allowEmptyPassword</code>
                      </entry>
                      <entry><code>bool</code><paragraph>Default: <code>false</code></paragraph></entry>
                      <entry>Whether to allow empty passwords for Couchbase Server authentication</entry>
                   </row>
                   <row>
                      <entry>
                         <code>bucket</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: Value of the property <code>Name</code></paragraph></entry>
                      <entry>Bucket name on Couchbase Server or a Walrus bucket</entry>
                   </row>
                   <row>
                      <entry>
                         <code>cacheConfig</code>
                      </entry>
                      <entry>Array of cache configuration properties</entry>
                      <entry>Cache settings. See <ref href="#cache-configuration">Cache configuration</ref>.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>eventHandlers</code>
                      </entry>
                      <entry><code>interface</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Event handlers (for webhooks). For more information, see
                         <ref href="../integration/event-handling.xml">Using webhooks</ref>.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>feedType</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: Depends on the Couchbase Server version.</paragraph></entry>
                      <entry>Feed type: <code>DCP</code> or <code>TAP</code></entry>
                   </row>
                   <!-- I am omitting ImportDocs -->
                   <row>
                      <entry>
                         <code>password</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Password for authenticating to Couchbase Server</entry>
                   </row>
                   <row>
                      <entry>
                         <code>pool</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: The string <code>default</code></paragraph></entry>
                      <entry>Couchbase pool name</entry>
                   </row>                   
                   <row>
                      <entry>
                         <code>revsLimit</code>
                      </entry>
                      <entry><code>integer</code></entry>
                      <entry>Maximum depth to which a document's revision tree can grow</entry>
                   </row>
                   <row>
                      <entry>
                         <code>roles</code>
                      </entry>
                      <entry>Roles to create<paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Initial roles</entry>
                   </row>                 
                   <row>
                      <entry>
                         <code>server</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <code>walrus:</code></paragraph></entry>
                      <entry>Couchbase Server (or Walrus) URL</entry>
                   </row>
                   <!-- I am omitting bucket shadowing at the moment. -->
                   <row>
                      <entry>
                         <code>sync</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: If you don't supply a sync function, Sync Gateway
                         uses a default sync function. For more information, see the section
                         <ref href="../../sync-gateway/4-sync-gateway-sync-function-api.xml">Default sync function</ref>.</paragraph></entry>
                      <entry>Sync function, which defines which users can read, update, or delete which documents</entry>
                   </row>
                <row>
                   <entry>
                      <code>username</code>
                   </entry>
                   <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                   <entry>Username for authenticating to Couchbase Server</entry>
                </row>
                <row>
                   <entry>
                      <code>users</code>
                   </entry>
                   <entry>Users to create<paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                   <entry>Initial user accounts</entry>
                </row>
                </body>
             </table>
          </body>
       </topic>
       <topic id="auth-configuration">
          <title>Authentication configuration</title>
          <body>
             <paragraph>Following are configuration properties for authentication:</paragraph>
             <section id="facebook-configuration">
                <title>Facebook configuration</title>
                <body>
                <paragraph>Following is the property that you can define for the server configuration property<code>Facebook</code>:</paragraph>
                <table>
                   <header>
                      <row>
                         <entry>Property</entry>
                         <entry>Type and Default</entry>
                         <entry>Description</entry>
                      </row>
                   </header>
                   <body>
                   <row>
                      <entry>
                         <code>register</code>
                      </entry>
                      <entry><code>bool</code></entry>
                      <entry>Whether the Facebook Login server will register new user accounts (<code>true</code> or <code>false</code>)</entry>
                   </row>
                   </body>
             </table>
                <paragraph>For more information about Facebook authentication, see
                <ref href="../../sync-gateway/administration/authenticating-users.xml#facebook">Facebook authentication</ref>.</paragraph>
             </body>
         </section>
             <section id="persona-configuration">
                <title>Mozilla Persona configuration</title>
                <body>
                   <paragraph>Following are the properties that you can define for the server configuration property <code>Persona</code>:</paragraph>
                   <table>
                      <header>
                         <row>
                            <entry>Property</entry>
                            <entry>Type and Default</entry>
                            <entry>Description</entry>
                         </row>
                      </header>
                      <body>
                         <row>
                            <entry>
                               <code>origin</code>
                            </entry>
                            <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                            <entry>URL of Mozilla Persona Identity Provider (IdP) server for Persona authentication</entry>
                         </row>
                         <row>
                            <entry>
                               <code>register</code>
                            </entry>
                            <entry><code>bool</code></entry>
                            <entry>Whether the Mozilla Persona IdP server will register new user accounts (<code>true</code> or <code>false</code>)</entry>
                         </row>
                      </body>
                   </table>
                   <paragraph>For more information about Mozilla Persona authentication, see
                      <ref href="../../sync-gateway/administration/authenticating-users.xml#persona">Mozilla persona authentication</ref>.</paragraph>
                </body>
             </section>
          </body>
       </topic>
       <topic id="cors-configuration">
          <title>CORS configuration</title>
          <body>
             <paragraph>Cross Origin Resource Sharing (CORS) is a browser security protocol that allows web pages to interact with
                resources hosted under domains other than their origin server.
                <external-ref href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">Read more about CORS.</external-ref></paragraph>
             <paragraph>Sync Gateway has server level configuration for CORS origin(s), headers, and max-age. It is also possible
                to use a wildcard <code>*</code> as the origin but wildcard matched domains won't send credentials. Don't use a wildcard
                if you can list the domains. The <code>Origin</code>  list can include multiple entries. CORS is not enabled on the
                Sync Gateway admin port.</paragraph>
             <paragraph>The <code>LoginOrigin</code> list protects access to the <code>_session</code> and <code>_facebook</code>
                endpoints.</paragraph>
             <paragraph>A common use case is to sync with HTML5 apps running databases like
                <external-ref href="http://pouchdb.com/">PouchDB</external-ref>. It is also possible to interact directly with
                Sync Gateway from HTML5 applications via XHR, when CORS is configured.</paragraph>
             <paragraph>Following are configuration properties that you can define for CORS:</paragraph>
             <table>
                <header>
                   <row>
                      <entry>Property</entry>
                      <entry>Type and Default</entry>
                      <entry>Description</entry>
                   </row>
                </header>
                <body>
                   <row>
                      <entry>
                         <code>origin</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>Comma-separated list of allowed origins; use an asterisk (*) to allow access from everywhere</entry>
                   </row>
                <row>
                   <entry>
                      <code>loginOrigin</code>
                   </entry>
                   <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                   <entry>Comma-separated list of allowed login origins</entry>
                </row>
                <row>
                   <entry>
                      <code>headers</code>
                   </entry>
                   <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                   <entry>Comma-separated list of allowed HTTP headers</entry>
                </row>
                <row>
                   <entry>
                      <code>maxAge</code>
                   </entry>
                   <entry><code>integer</code></entry>
                   <entry>Value for the <code>Access-Control-Max-Age</code> header. This is the the number of seconds that the
                      response to a CORS preflight request can be cached before sending another preflight request.</entry>
                </row>
                </body>
             </table>
             <section id="cors-example">
                <title>Example</title>
                <body>
             <paragraph>The following configuration file starts a server with settings you might use when developing with Sync Gateway
                and PouchDB on the same laptop. Be sure to match the port number to your localhost webserver port. Guest has full access
                in this mode so you probably want to change this before you go into production.</paragraph>
             <code-block>
                {
                  "log": ["HTTP+"],
                  "CORS": {
                    "origin":["http://localhost:8000"],
                    "loginOrigin":["http://localhost:8000"],
                    "headers":["Content-Type"],
                    "maxAge": 1728000
                  },
                  "databases": {
                    "db": {
                      "server": "walrus:",
                      "users": { "GUEST": {"disabled": false, "admin_channels": ["*"] } }
                    }
                  }
                }
             </code-block>
                   <paragraph>You can find this example with a different <code>log</code> configuration property
                      in the <external-ref href="https://github.com/couchbase/sync_gateway/tree/master/examples">Sync Gateway Github
                         examples repository</external-ref>.</paragraph>
                </body>
             </section>
          </body>
       </topic>
       <topic id="event-configuration">
          <title>Webhook configuration</title>
          <body>
             <paragraph>Following are configuration properties for event handling and webhooks:</paragraph>
             <section id="persona-configuration">
                <title>Event handling</title>
                <body>
                   <paragraph>Following are properties that you can define for event handling:</paragraph>
             <table>
                <header>
                   <row>
                      <entry>Property</entry>
                      <entry>Type and Default</entry>
                      <entry>Description</entry>
                   </row>
                </header>
                <body>
                   <row>
                      <entry>
                         <code>documentChanged</code>
                      </entry>
                      <entry>Array of event configuration properties<paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                      <entry>The <code>document_changed</code> event. For more information, see
                         the section <ref href="#event-configuration">Event configuration</ref>.</entry>
                   </row>
                   <row>
                      <entry>
                         <code>maxEventProc</code>
                      </entry>
                      <entry><code>integer</code><paragraph>Default: <code>500</code></paragraph></entry>
                      <entry>Maximum concurrent event handling goroutines</entry>
                   </row>
                   <row>
                      <entry>
                         <code>waitForProcess</code>
                      </entry>
                      <entry><code>string</code><paragraph>Default: <code>5</code></paragraph></entry>
                      <entry>Maximum wait time in milliseconds when the event queue is full</entry>
                   </row>
                </body>
             </table>
                </body>
                </section>
                   <section id="event-configuration">
                      <title>Webhook event handler</title>
                      <body>
                         <paragraph>Following are properties that you can define for a <code>webhook</code> event handler:</paragraph>
                         <table>
                            <header>
                               <row>
                                  <entry>Property</entry>
                                  <entry>Type and Default</entry>
                                  <entry>Description</entry>
                               </row>
                            </header>
                            <body> 
                            <row>
                               <entry>
                                  <code>Filter</code>
                               </entry>
                               <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                               <entry>Filter function to determine which documents to post (for a webhook event handler)</entry>
                            </row>
                               <row>
                                  <entry>
                                     <code>handlerType</code>
                                  </entry>
                                  <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                                  <entry>Handler type. This must be (<code>webhook</code>).</entry>
                               </row>
                               <row>
                                  <entry>
                                     <code>timeout</code>
                                  </entry>
                                  <entry><code>integer</code><paragraph>Default: <code>60</code></paragraph></entry>
                                  <entry>Timeout in seconds (for a webhook event handler)</entry>
                               </row>
                               <row>
                                  <entry>
                                     <code>url</code>
                                  </entry>
                                  <entry><code>string</code><paragraph>Default: <emphasis>None</emphasis></paragraph></entry>
                                  <entry>URL to which to post documents (for a webhook event handler)</entry>
                               </row>
                </body>
             </table>
                         <section id="webhook-example">
                            <title>Examples</title>
                            <body>
                               <paragraph>For examples of webhook configurations, see 
                                  <external-ref href="../integration/event-handling.xml#examples-webhooks">Examples</external-ref>.</paragraph>
                            </body>
                         </section>
                 </body>
                   </section>
                </body>
       </topic>
       
       <topic id="cache-configuration">
          <title>Cache configuration</title>
          <body>
             <paragraph>Following are configuration properties for cache configuration:</paragraph>
             <table>
                <header>
                   <row>
                      <entry>Property</entry>
                      <entry>Type and Default</entry>
                      <entry>Description</entry>
                   </row>
                </header>
                <body>
                   <row>
                      <entry>
                         <code>cachePendingSeqMaxNum</code>
                      </entry>
                      <entry><code>integer</code></entry>
                      <entry>Maximum number of pending sequences before skipping the sequence</entry>
                   </row>
                <row>
                   <entry>
                      <code>cachePendingSeqMaxWait</code>
                   </entry>
                   <entry><code>integer</code></entry>
                   <entry>Maximum wait time in milliseconds for a pending sequence before skipping sequences</entry>
                </row>
                <row>
                   <entry>
                      <code>cacheSkippedSeqMaxWait</code>
                   </entry>
                   <entry><code>integer</code></entry>
                   <entry>Maximum wait time in milliseconds for a skipped sequence before abandoning the sequence</entry>
                </row>
                <row>
                   <entry>
                      <code>enableStarChannel</code>
                   </entry>
                   <entry><code>bool</code></entry>
                   <entry>Enable the star (*) channel</entry>
                </row>
                </body>
             </table>
          </body>
       </topic>
   </topics>
</article>
