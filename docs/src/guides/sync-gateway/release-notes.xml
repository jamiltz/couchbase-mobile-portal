<guide xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../../docs.xsd"
    id="release-notes">
    <title>Release notes</title>
    <description>Release notes for Sync Gateway</description>
    <introduction>
        <paragraph>
            Release notes for Sync Gateway
        </paragraph>
    </introduction>
    <articles>
        <article id="1.1.0">
            <title>1.1.0 June 17, 2015</title>
            <description>1.1.0 Release Notes for Sync Gateway</description>
            <introduction>
                <paragraph>
                    Sync Gateway 1.1 packs in a number of significant enhancements, including:
                </paragraph>
                <ordered-list>
                    <list-item>
                        <strong>A new integration mechanism: Webhooks.</strong> With this release, we are beginning to expose an event model to which you can add handlers. This makes it even easier to integrate Couchbase Mobile with line of business applications, 3rd party services and apps, etc.
                    </list-item>
                    <list-item>
                        <strong>PouchDB compatibility.</strong> Extend your Couchbase Mobile user experience to your HTML5/JavaScript apps.
                    </list-item>
                    <list-item>
                        <strong>Cross-Origin Resource Sharing (CORS) support.</strong> Enable Sync Gateway to respond to HTTP requests that origin from one or more approved external websites.
                    </list-item>
                    <list-item>
                        <strong>Friendlier default configuration.</strong> Now when you run Sync Gateway without providing any configuration options, the Guest user will be enabled and will have access to all documents. The tradeoff, for security reasons, is that Sync Gateway will default to listening on the local loopback interface only.
                    </list-item>
                    <list-item>
                        <strong>Production certification for Couchbase 3.1</strong>, and non-production certification for using 4.0 (Beta 1). Sync Gateway users are encouraged to upgrade to 3.1 in order to take advantage of all the great improvements since the 2.5.2 release.
                    </list-item>
                </ordered-list>
                <section id="110-enhancements">
                    <title>Features and Improvements</title>
                    <body>
                        <unordered-list>
                            <list-item>
                                <external-ref href="https://github.com/couchbase/sync_gateway/issues/859">
                                    <strong>#859</strong>
                                </external-ref>Uptake TCP keep-alive support for go-couchbase</list-item>
                            <list-item>
                                <external-ref href="https://github.com/couchbase/sync_gateway/issues/763">
                                    <strong>#763</strong>
                                </external-ref>Improve view creation by Sync Gateway</list-item>
                            <list-item>
                                <external-ref href="https://github.com/couchbase/sync_gateway/issues/708">
                                    <strong>#708</strong>
                                </external-ref>Insecure mode on default sync_gateway bucket</list-item>
                            <list-item>
                                <external-ref href="https://github.com/couchbase/sync_gateway/issues/482">
                                    <strong>#482</strong>
                                </external-ref>Sync Gateway web hooks</list-item>
                            <list-item>
                                <external-ref href="https://github.com/couchbase/sync_gateway/issues/457">
                                    <strong>#457</strong>
                                </external-ref>Add additional platform support for service installation scripts</list-item>
                            <list-item>
                                <external-ref href="https://github.com/couchbase/sync_gateway/issues/440">
                                    <strong>#440</strong>
                                </external-ref>_all_docs still slow</list-item>
                            <list-item>
                                <external-ref href="https://github.com/couchbase/sync_gateway/issues/409">
                                    <strong>#409</strong>
                                </external-ref>Update sync gateway to better support CBS 3.0 view semantics</list-item>
                            <list-item>
                                <external-ref href="https://github.com/couchbase/sync_gateway/issues/404">
                                    <strong>#404</strong>
                                </external-ref>Moving from TAP to DCP</list-item>
                            <list-item>
                                <external-ref href="https://github.com/couchbase/sync_gateway/issues/115">
                                    <strong>#115</strong>
                                </external-ref>CORS access control header support</list-item>
                        </unordered-list>
                    </body>
                </section>
                    <section id="110-fixes">
                            <title>Bug fixes</title>
                            <body>
                                <unordered-list>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/880">
                                            <strong>#880</strong>
                                        </external-ref>Changes feed fails to backfill channel under heavy access() load</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/878">
                                            <strong>#878</strong>
                                        </external-ref>sg doesn't properly handle config files with buckets '%' in the name</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/852">
                                            <strong>#852</strong>
                                        </external-ref>webhooks events can't POST for HTTPS servers using self-signed cert</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/850">
                                            <strong>#850</strong>
                                        </external-ref>Logging doesn't always use the same unit</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/847">
                                            <strong>#847</strong>
                                        </external-ref>Installing sync gateway service fails</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/821">
                                            <strong>#821</strong>
                                        </external-ref>Session API does not honor the password parameter</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/812">
                                            <strong>#812</strong>
                                        </external-ref>webhooks: Not all events are getting POSTed</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/811">
                                            <strong>#811</strong>
                                        </external-ref>webhook: Not all revision ids are sent with webhook events.</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/810">
                                            <strong>#810</strong>
                                        </external-ref>Sync Gateway crashes while processing webhook events</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/809">
                                            <strong>#809</strong>
                                        </external-ref>Sync Gateway crashes while processing the changes feed</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/808">
                                            <strong>#808</strong>
                                        </external-ref>The revision Id passed in the Etag header should be enclosed in quotes</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/783">
                                            <strong>#783</strong>
                                        </external-ref>Windows line breaks in sync function cause SG to fail</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/775">
                                            <strong>#775</strong>
                                        </external-ref>SG handling for mutations deduplicated by Couchbase feed</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/762">
                                            <strong>#762</strong>
                                        </external-ref>configurable CORS on login resources</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/745">
                                            <strong>#745</strong>
                                        </external-ref>Ignores heartbeat parameter in _changes POST request</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/691">
                                            <strong>#691</strong>
                                        </external-ref>Bucket name with percent symbol is not handled correctly in config file</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/687">
                                            <strong>#687</strong>
                                        </external-ref>Windows: Pull replication doesn't work on :4984 (no documents or changes returned)</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/679">
                                            <strong>#679</strong>
                                        </external-ref>Webhook does not give warning or error when http server delay response pass the timeout value</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/661">
                                            <strong>#661</strong>
                                        </external-ref>Webhook filter with invalid event type or event handler does not result in error or warning to users</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/653">
                                            <strong>#653</strong>
                                        </external-ref>Sync Gateway not starting first time</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/628">
                                            <strong>#628</strong>
                                        </external-ref>DCP events not appearing on changes feed</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/621">
                                            <strong>#621</strong>
                                        </external-ref>Changes Feed repeats all the changes when a change is made</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/563">
                                            <strong>#563</strong>
                                        </external-ref>SG service installation, when using --runas, update all paths that point to user home</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/562">
                                            <strong>#562</strong>
                                        </external-ref>PUT /db should not return 405; causes client replicator to fail</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/544">
                                            <strong>#544</strong>
                                        </external-ref>Sync_gateway service installation result in two data directories when there is an inactive service</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/535">
                                            <strong>#535</strong>
                                        </external-ref>sync_gateway_service_install.sh should explicitly state that command-line arguments require an '=' before the value</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/530">
                                            <strong>#530</strong>
                                        </external-ref>Some of the service install script parameters should be removed</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/525">
                                            <strong>#525</strong>
                                        </external-ref>SG TAP timeout issue</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/521">
                                            <strong>#521</strong>
                                        </external-ref>Fail to start sync_gateway service</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/513">
                                            <strong>#513</strong>
                                        </external-ref>When stopping Sync_gateway service on Centos 6 process is left running</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/501">
                                            <strong>#501</strong>
                                        </external-ref>Revision pruning isn't effective when history includes conflicts (even when tombstoned)</list-item>
                                    <list-item>
                                        <external-ref href="https://github.com/couchbase/sync_gateway/issues/491">
                                            <strong>#491</strong>
                                        </external-ref>Items in SG channel not reflected in change feed.</list-item>
                                </unordered-list>
                            </body>
                        </section>
                    <section id="110-download">
                        <title>Download</title>
                        <body>
                            <paragraph>You can download this release from
                                <external-ref href="http://www.couchbase.com/nosql-databases/downloads#Couchbase_Mobile">Couchbase.com</external-ref>
                            </paragraph>
                        </body>
                    </section>
                    <section id="110-requirements">
                        <title>System Requirements</title>
                        <body>
                            <paragraph>Sync Gateway 1.1 is compatible with the following editions of Couchbase Server:</paragraph>
                            <table>
                                <header>
                                    <row>
                                        <entry>Sync Gateway</entry>
                                        <entry>Couchbase Server</entry>
                                    </row>
                                </header>
                                <body>
                                    <row>
                                        <entry>1.1</entry>
                                        <entry>2.2.x</entry>
                                    </row>
                                    <row>
                                        <entry>1.1</entry>
                                        <entry>2.5.x</entry>
                                    </row>
                                    <row>
                                        <entry>1.1</entry>
                                        <entry>3.1 (the upcoming first minor revision 3-series release)</entry>
                                    </row>
                                    <row>
                                        <entry>1.1</entry>
                                        <entry>4.0 Beta 1 (though not supported for production use)</entry>
                                    </row>
                                </body>
                            </table>
                        </body>
                    </section>
                    <section id="110-support">
                        <title>Support Statement</title>
                        <body>
                            <paragraph>Version 1.0 was released in May, 2014. With this release of version 1.1, the support window for 1.0 expires in December 2015.</paragraph>
                            <table>
                                <header>
                                    <row>
                                        <entry>Release</entry>
                                        <entry>Release Date</entry>
                                        <entry>End of Life Date</entry>
                                    </row>
                                </header>
                                <body>
                                    <row>
                                        <entry>1.0</entry>
                                        <entry>May 2014</entry>
                                        <entry>June 2016</entry>
                                    </row>
                                    <row>
                                        <entry>1.1</entry>
                                        <entry>June 2015</entry>
                                        <entry></entry>
                                    </row>
                                </body>
                            </table>
                        </body>
                    </section>
            </introduction>
        </article>
        <article id="1.0.4">
            <title>1.0.4, March 5, 2015</title>
            <description>1.0.4 Release Notes for Sync Gateway</description>
            <introduction>
                    <paragraph>
                        In 1.0.4 we've made several usability improvements, primarily around installation and document management.  Below is a highlight of issues fixed and enhancements added:
                    </paragraph>
                    <unordered-list>
                        <list-item>Added support for public document channel.  Access to the '!' channel is automatically granted to all users – includes cleanup around handling of the '*' channel.</list-item>
                        <list-item>Added id property to oldDoc for ease-of-use in sync function</list-item>
                        <list-item>Fix to support update if an attachment's source revision has been compacted away</list-item>
                        <list-item>Increase TAP sequence buffer time to avoid potential data loss </list-item>
                        <list-item>Enhancements for Sync Gateway installation scripts
                            <unordered-list>
                                <list-item>Added support for service creation on Centos7 and Mac OS X</list-item>
                                <list-item>Fix for installation when the Sync Gateway runtime user account doesn't exist</list-item>
                                <list-item>Support for <code>—runas</code> to simplify installation to user's home</list-item>
                                <list-item>Various improvements to usage notes and error handling for scripts</list-item>
                            </unordered-list>
                        </list-item>
                    </unordered-list>
                    <paragraph>
                        Our service install script now supports the installation of Sync Gateway as a service on both Windows and Centos 7.
                    </paragraph>
            </introduction>
        </article>
        <article id="1.0.3">
            <title>1.0.3, October 29, 2014</title>
            <description>1.0.3 Release Notes for Sync Gateway</description>
            <introduction>
                    <paragraph>
                        In 1.0.3 we have begun to reduce friction in the Sync Gateway's usability. We've added install scripts to expedite the installation of Sync Gateway as a service on Ubuntu and RedHat, made preventative measures against the POODLE vulnerability by disallowing SSLv3 connections, and improved the overall session management for custom authentication integration. Below is a highlight of issues fixed, and enhancements added:
                    </paragraph>
                    <unordered-list>
                        <list-item>Fixed issue where a channel assigned to non existent user in sync function, would not get assigned when user was later added.</list-item>
                        <list-item>Fixed issue where a bulk_docs request contains a document that alters channel access for the user making the request and the change doesn't take effect until after the request completes.</list-item>
                        <list-item>Fixed issue where getting doc with <code>attachments=true</code> and <code>atts_since</code>, might return data from a previous call.</list-item>
                        <list-item>Fixed issue where existing documents assigned to a channel are not synced to a user that is assigned access to that channel at a later time</list-item>
                        <list-item><code>POST</code> to <code>/db</code> now respects an incoming <code>_id</code> property, such that the value is used as the doc id rather than a UUID</list-item>
                        <list-item>Set an expiration time for obsolete revisions to support automatic cleanup</list-item>
                        <list-item>Ensure only active channels are returned in <code>_all_docs channels=true</code></list-item>
                        <list-item><code>_all_docs</code> now supports limit, startkey and endkey arguments</list-item>
                        <list-item>Improved session management via Admin API for DELETE and GET</list-item>
                        <list-item>Added support for setting custom read/write timeouts on HTTP(S) server</list-item>
                    </unordered-list>
                    <paragraph>
                        Our new install script support the installation of Sync Gateway as a service on the following platforms:
                    </paragraph>
                    <unordered-list>
                        <list-item>Ubuntu 10.04, 32- and 64-bit</list-item>
                        <list-item>Ubuntu 12.04, 32- and 64-bit</list-item>
                        <list-item>Ubuntu 14.04, 32- and 64-bit</list-item>
                        <list-item>Centos 5, 32- and 64-bit</list-item>
                        <list-item>Centos 6, 32- and 64-bit</list-item>
                    </unordered-list>
                    <paragraph>
                        You can manually install Sync Gateway as a service onto Centos 7. Support for Centos 7 in our automated installation scripts will be coming soon.
                    </paragraph>
            </introduction>
        </article>
        <article id="1.0.2">
            <title>1.0.2, August 27, 2014</title>
            <description>1.0.2 Release Notes for Sync Gateway</description>
            <introduction>
                <paragraph>
                    In our latest quality release, 1.0.2, we've tackled usability issues that have surfaced since 1.0.0, in particular
                    taking a look at a replication loops that arose from manually adding new users to a channel, 
                    enhancing our shadow bucket feature with protected buckets, handling bad behavior scenarios like extremely
                    short passwords, performance issues around <code>_all_docs</code>, and added support to handle in-production changes of the
                    sync function without forcing downtime of the Sync Gateway node. These fixes and more are detailed in our highlights list below:
                </paragraph>
                	<unordered-list>
						<list-item>Fixed race condition: err "the pool is closed" during a rebalance</list-item>
						<list-item>Added <code>SlowServerCallWarningThreshold</code> config variable that alerts when requests to Couchbase buckets take longer than expected</list-item>
						<list-item>Fixed replication bugs after users are manually added to channels <external-ref href="https://github.com/couchbase/sync_gateway/issues/314">#314</external-ref></list-item>
						<list-item><code>requireRole</code> function throw 403 missing role <external-ref href="https://github.com/couchbase/sync_gateway/issues/335">#335</external-ref></list-item>
						<list-item>Can't shadow a password protected bucket <external-ref href="https://github.com/couchbase/sync_gateway/issues/332">#332</external-ref></list-item>
						<list-item>Sync gateway does not return error when client push a document over maximum limit <external-ref href="https://github.com/couchbase/sync_gateway/issues/342">#342</external-ref></list-item>
						<list-item>Error when updating with 1 char password, hashing panics on too-short passwords <external-ref href="https://github.com/couchbase/sync_gateway/issues/363">#363</external-ref></list-item>
						<list-item><code>_all_docs</code> slow <external-ref href="https://github.com/couchbase/sync_gateway/issues/326">#326</external-ref></list-item>
						<list-item>Admin API <code>/db/_resync</code> added that can perform a re-sync with an updated sync function <external-ref href="https://github.com/couchbase/sync_gateway/issues/116">#116</external-ref></list-item>
					</unordered-list>
            </introduction>
        </article>
        <article id="1.0.1">
            <title>1.0.1, July 28, 2014</title>
            <description>1.0.1 Release Notes for Sync Gateway</description>
            <introduction>
                <paragraph>
                    This is our first patch for our 1.0.0 release from May. 
                    Issues addressed center on improving the Sync Gateway's performance, bumping up the current limitation on the Attachment size, and
                    continued development of our experimental admin tooling centered on Sync Function development.
                </paragraph>                
                	<unordered-list>
                    	<list-item>Fixed issues handling attachments over 10MB (the size limit is still 20MB) <external-ref href="https://github.com/couchbase/sync_gateway/issues/333">#333</external-ref></list-item>
						<list-item>Fixed requireRole( ) function called in sync functions <external-ref href="https://github.com/couchbase/sync_gateway/issues/335">#335</external-ref></list-item>
						<list-item>Updates to the experimental admin UI</list-item>
					</unordered-list>
            </introduction>
        </article>
        <article id="1.0.0">
            <title>1.0.0, May 21, 2014</title>
            <description>1.0.0 Release Notes for Sync Gateway</description>
            <introduction>
                <paragraph>
                    This is our first production-ready release of Sync Gateway. A major change between our last Beta and our 1.0.0
                    release was major performance tweaks to optimize the flow of data between client to Sync Gateway, and building 
                    an understanding of best practices and sizing for deployment with common use case models. You can learn our findings
                    in the Deployment guide that addresses this very topic.
                </paragraph>                
                <paragraph>
                    Another addition was the availability of the Windows installer. A popular request, we finally added this package for our
                    1.0.0 release. We now have support the same platforms as Couchbase Server, including: Red Hat, Ubuntu, Mac and
                    Windows.
                </paragraph>
            </introduction>
        </article>
    </articles>
</guide>