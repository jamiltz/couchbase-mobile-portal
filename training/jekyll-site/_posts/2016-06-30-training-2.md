---
layout: post
title:  "Adding Synchronization"
date:   2016-06-30 14:57:23 +0100
categories: jekyll update
---

# Adding Synchronization

Now that you have all the data saved locally, you might want to save that data to the cloud to have it accessible on other devices or you might want to share it with other users. To do this, we’re going to add Sync Gateway to our app’s back end. It will run on your machine locally for development purposes.

You can [read more about Sync Gateway](http://developer.couchbase.com/documentation/mobile/1.2/get-started/sync-gateway-overview/index.html) functionality and features in our documentation. There’s a lot you can do with it!

Start this lesson by downloading the starter project below.

[Download starter project](http://cl.ly/0h330W3h1k2Y/part2_start.zip)

[Download Couchbase Lite for iOS](http://www.couchbase.com/nosql-databases/downloads#couchbase-mobile). Unzip the file and drag **CouchbaseLite.framework** to the **Frameworks** folder in Finder.

## Installation

Now that your application runs smoothly on the device you are ready to introduce Sync Gateway.

1. [Download Sync Gateway](http://www.couchbase.com/nosql-databases/downloads#couchbase-mobile)
2. Unzip the file and locate the executable at couchbase-sync-gateway/bin/sync_gateway
3. Copy the executable file to the root of your project directory (in the same location as sync-gateway-config.json)

Before you start Sync Gateway, open sync-gateway-config.json. It declares a database called todo for which the server is walrus. In a production deployment, Sync Gateway persists its data to Couchbase Server and the bucket and server properties in the configuration file are used to specify which instance and bucket to store the data into. During development, you can set the server property to walrus (also known as the Walrus mode) and it will keep the data in memory. The only two valid values for the server field are either a Couchbase Server endpoint or walrus. Note that anytime you restart Sync Gateway in walrus mode, the database will be empty.

As an exercise, we have left out an important field from the configuration file. By default, Sync Gateway returns a 401 Unauthorized response to any HTTP request that isn’t authenticated. You will learn how to setup authentication in lesson 3 but for the purpose of this lesson, you will focus exclusively on synchronization and conflict resolution. To override the behaviour, you must register the GUEST keyword which represents all the unauthenticated clients that will be synchronizing with your Sync Gateway instance. Replace the content of sync-gateway-config.json with the following.